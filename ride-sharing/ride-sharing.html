<!DOCTYPE html>
<html lang="ro">
<head>
    <meta charset="UTF-8">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Text+Me+One">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Zilla+Slab">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Zen+Dots">
    <link rel="stylesheet" href="ride-sharing.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
    <script src="../scriptsFrontend/servicesBtn.js"></script>
    <script src="ride-sharing.js"></script>
    <script src="../startUser/startUser.js"></script>
    <script src="../goodScripts/utils.js"></script>
    <script>
        if (localStorage.getItem('token')) {
            getService().then(() => {
                if (globalService === undefined) {
                    localStorage.removeItem('token');
                    window.location.href = "http://127.0.0.1:8000/mainHome/mainHome.html";
                } else if (globalService === "consumer") {
                    getOwnRides().then(r => {
                        console.log(r);
                        showRides()
                    })
                } else {
                    //redirect pe pagina serviciului corespunzator
                    window.location.href = "driverPage.html"
                }
            })
        } else window.location.href = "http://127.0.0.1:8000/mainHome/mainHome.html"
    </script>
    <script>
        getUsername();
    </script>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Ride-sharing</title>
</head>
<body>
<div class="header" itemscope itemtype="https://schema.org/Organization">
    <a class="active" href="../mainHome/mainHome.html"><p itemprop="legalName">SerP</p></a>
    <div class="dropdown">
        <button class="dropbtn" onclick="myFunction()">Servicii</button>
        <div class="dropdown-content" id="myDropdown">
            <a href="../ride-sharing/ride-sharing.html"><p itemprop="makesOffer">Ride-sharing</p></a>
            <a href="../food/food.html"><p itemprop="makesOffer">Food delivery</p></a>
            <a href="../rent/rent.html"><p itemprop="makesOffer">Inchirieri</p></a>
        </div>
    </div>
    <a class="link" onclick="logout()">Deconectare</a>
</div>
<div itemscope class="headerMobile" itemtype="https://schema.org/Organization">
    <div class="header_small">
        <a class="active" href="../startUser/startUser.html" itemprop="legalName"><p>SerP</p></a>
        <div class="dropdown">
            <button class="dropbtn" onclick="myFunctionSmall()">Servicii</button>
            <div class="dropdown-content" id="myDropdownsmall">
                <a href="../ride-sharing/ride-sharing.html">Ride-sharing</a>
                <a href="../food/food.html">Food delivery</a>
                <a href="../rent/rent.html">Inchirieri</a>
            </div>
        </div>
        <a class="link" onclick="logout()">Deconectare</a>
    </div>
    <div class="menu-small">
        <div id="myNav" class="overlay">
            <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
            <div class="overlay-content">
                <a class="istoric" onclick="showCoursesMobile()">
                    <img class="img" src="../resources/istoric.png" alt="user" style="width:20px; height:20px;">
                    Comenzile tale
                </a>
                <!--            <a href="#clients" class="promo">-->
                <!--                <img class="img" src="../resources/coupon.png" alt="user" style="width:20px; height:20px;">-->
                <!--                Promotii-->
                <!--            </a>-->
                <!--            <a href="#contact" class="status">-->
                <!--                <img class="img" src="../resources/truck.png" alt="user" style="width:20px; height:20px;">-->
                <!--                Status comanda-->
                <!--            </a>-->
            </div>
        </div>
        <span id="profile" onclick="openNav()">&#9776;</span>
    </div>
</div>
<div id="details" itemscope itemtype="https://schema.org/Organization">
    <div class="user-div">
        <img class="img" src="../resources/user.png" alt="user" style="width:50px; height:50px;">
        <p id="username">
            Username
            <a href="#user" style="padding: 0;"> Detalii profil</a>
        </p>
    </div>
    <div class="options">
        <a class="istoric" onclick="showCourses()">
            <img class="img" src="../resources/istoric.png" alt="user" style="width:20px; height:20px;">
            Cursele tale
        </a>
    </div>
</div>
<div id="smth">Incotro?</div>
<div id="main-div">
    <form id="ridesharing-form">
        <h1 id="title">Selecteaza destinatia</h1>
        <input class="full-width"  type="text" id="from" name="from"
               placeholder="adresa de plecare"
               required>
        <input class="full-width"  type="text" id="to" name="to" placeholder="destinatia finala"
               required>
        <label id="buton">
            <button class="submitbtn" type="submit" value="search" onclick="comanda()">Cauta sofer</button>
        </label>
    </form>
</div>
<div id="commandsList">
    <div class="title-back">
        <button id="back" onclick="backRideS()">Inapoi</button>
        <h2 id="titleC">Cursele tale</h2>
    </div>
</div>
<footer class="footer">
    <p>&copy; 2022 Antorii</p>
    <p>
        <img src="../resources/earth.png" alt="earth">
        Romania
    </p>
</footer>
</body>
</html>